<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Dan Dalpiaz - Web Application Developer at the University of Illinois Urbana-Champaign (UIUC)">
	<link rel="shortcut icon" type="image/png" href="assets/favicon.png"/>
	<link rel="stylesheet" href="assets/pico.min.css">
	<script src="assets/showdown.min.js"></script>
	<title>Dan Dalpiaz - Web Application Developer at the University of Illinois Urbana-Champaign (UIUC)</title>
	<style>
		/* increase color contrast for a11y */
		code {
			color: rgb(135, 150, 160);
		}
	</style>
</head>

<body>
	<main role="main" class="container">
		<div id="insert"></div>
	</main>

<script type="text/javascript">

function getParameterByName(name, url = window.location.href) {
    name = name.replace(/[\[\]]/g, '\\$&');
    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
}

var page = getParameterByName('page');
if (page) {
	page = "pages/" + page + ".md"
} else {
	page = "README.md";
}

var client = new XMLHttpRequest();
client.open('GET', page);
client.onreadystatechange = function() {
	if (client.readyState == 4 && client.status == 200) {
		if (client.responseText) {
			var div = document.getElementById('insert');
			div.innerHTML += client.responseText;
			var conv = new showdown.Converter();
			conv.setOption('tables', 'true');
			conv.setOption('emoji', 'true');
			conv.setOption('ghCompatibleHeaderId', 'true');
			conv.setOption('simpleLineBreaks', 'true');
			//conv.setOption('parseImgDimensions', 'true');
			//conv.setOption('ghCodeBlocks', 'true');
			//conv.setOption('openLinksInNewWindow', 'true');
			//document.getElementById('insert').innerHTML = conv.makeHtml(div.innerHTML);
			document.getElementById('insert').innerHTML = conv.makeHtml(div.textContent);
			var h1s = document.getElementsByTagName("h1");
			for (var i = 0; i < h1s.length; i++) {
			    var h1 = h1s[i];
			    document.title = h1.innerHTML + " | " + document.title;
			}
		}
	}
}
client.send();

</script>
</body>
</html>
